[[extend 'layout.html']]


[[block page_head]]
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
[[end]]


<div id="app" class="max-w-3xl mx-auto py-12 px-6">
  <h1 class="text-3xl font-bold mb-8 text-white">Create New Recipe</h1>


  <div class="space-y-6">
    <div>
      <label class="block text-white font-semibold mb-1">Name:</label>
      <input v-model="recipe.name" type="text" class="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-600" />
    </div>


    <div>
      <label class="block text-white font-semibold mb-1">Type:</label>
      <input v-model="recipe.type" type="text" class="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-600" />
    </div>


    <div>
      <label class="block text-white font-semibold mb-1">Description:</label>
      <textarea v-model="recipe.description" class="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-600"></textarea>
    </div>


    <div>
      <label class="block text-white font-semibold mb-1">Instructions:</label>
      <textarea v-model="recipe.instruction_steps" class="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-600"></textarea>
    </div>


    <div>
      <label class="block text-white font-semibold mb-1">Servings:</label>
      <input v-model.number="recipe.servings" type="number" min="1" class="w-full px-4 py-2 rounded bg-gray-800 text-white border border-gray-600" />
    </div>

    <div>
      <label class="block text-white font-semibold mb-1">Image:</label>
        <input class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700" type="file" id="image_upload" name="image_upload" @change="uploadImage">
    </div>

    <div class="mt-6 border-t border-gray-700 pt-6">
      <h2 class="text-xl font-semibold text-white mb-4">Add Ingredients</h2>


      <div class="flex items-center space-x-4">
        <input v-model="new_ingredient.name" type="text" placeholder="Ingredient Name"
          class="flex-1 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600" />
        <input v-model.number="new_ingredient.quantity_per_serving" type="number" min="0.01" step="0.01"
          placeholder="Qty" class="w-32 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600" />
        <button @click="add_ingredient"
          class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">Add</button>
      </div>


      <ul class="mt-4 space-y-2">
        <li v-for="(ing, index) in recipe.ingredients" :key="index" class="flex justify-between items-center bg-gray-800 p-3 rounded">
          <span class="text-white">{{ ing.name }} - {{ ing.quantity_per_serving }} units</span>
          <button @click="remove_ingredient(index)" class="text-red-400 hover:text-red-600 text-sm">Remove</button>
        </li>
      </ul>
    </div>
   
    <div class="pt-8">
      <button @click="submit_recipe"
        class="w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded hover:bg-red-900">
        Submit Recipe
      </button>
    </div>
  </div>
</div>


[[block page_scripts]]
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script src="static/js/upload.js"></script> <!-- âœ… Correct path -->
[[end]]




